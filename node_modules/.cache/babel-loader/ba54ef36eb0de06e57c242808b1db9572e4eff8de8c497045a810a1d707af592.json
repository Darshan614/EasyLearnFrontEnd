{"ast":null,"code":"import _slicedToArray from\"D:/CPFE/EasyLearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Answer from\"../Components/Answer\";import classes from\"./MyAnswers.module.css\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import Loading from\"../Components/UI/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MyAnswers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),qas=_useState2[0],setqas=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),qa=_useState4[0],setqa=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),up=_useState6[0],setup=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),down=_useState8[0],setdown=_useState8[1];var loggedIn=useSelector(function(state){return state.auth.loggedIn;});var navigate=useNavigate();var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setloading=_useState10[1];//fetch answers and send as props\nuseEffect(function(){if(!loggedIn){navigate(\"/auth\");document.documentElement.scrollTop=0;return;}var token=localStorage.getItem(\"token\");//https://easylearn-mhgq.onrender.com/allQuestions\nvar u=\"https://easylearn-mhgq.onrender.com/allAnswers\";fetch(\"https://easylearn-mhgq.onrender.com/allAnswers\",{method:\"GET\",cache:\"no-store\",headers:{Authorization:\"Bearer \"+token}}).then(function(res){return res.json();}).then(function(data){setqas(data.answers);setloading(false);});},[]);useEffect(function(){setqa(qas.map(function(qa){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:classes.ques,children:[/*#__PURE__*/_jsx(\"p\",{className:classes.author,children:qa.author!==null?qa.author:\"Anonymous\"}),qa.question]}),/*#__PURE__*/_jsxs(\"p\",{className:classes.ans,children:[qa.answer,/*#__PURE__*/_jsxs(\"span\",{className:classes.dislike,children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"thumbs-down\"}),qa.downvotes]}),/*#__PURE__*/_jsxs(\"span\",{className:classes.like,children:[qa.upvotes,/*#__PURE__*/_jsx(\"ion-icon\",{name:\"thumbs-up\"})]})]})]});}));},[qas]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(Loading,{}),!loading&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:classes.qas,children:\"My Answers\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[qa,qa.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No answers yet.\"})]})]})]});}export default MyAnswers;","map":{"version":3,"names":["React","useEffect","useState","Answer","classes","useNavigate","useSelector","useDispatch","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyAnswers","_useState","_useState2","_slicedToArray","qas","setqas","_useState3","_useState4","qa","setqa","_useState5","_useState6","up","setup","_useState7","_useState8","down","setdown","loggedIn","state","auth","navigate","_useState9","_useState10","loading","setloading","document","documentElement","scrollTop","token","localStorage","getItem","u","fetch","method","cache","headers","Authorization","then","res","json","data","answers","map","children","className","ques","author","question","ans","answer","dislike","name","downvotes","like","upvotes","length"],"sources":["D:/CPFE/EasyLearn/src/Pages/MyAnswers.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Answer from \"../Components/Answer\";\r\nimport classes from \"./MyAnswers.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loading from \"../Components/UI/Loading\";\r\n\r\nfunction MyAnswers() {\r\n  const [qas, setqas] = useState([]);\r\n  const [qa, setqa] = useState([]);\r\n  const [up, setup] = useState(0);\r\n  const [down, setdown] = useState(0);\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n  const navigate = useNavigate();\r\n  const [loading, setloading] = useState(true);\r\n\r\n  //fetch answers and send as props\r\n  useEffect(() => {\r\n    if (!loggedIn) {\r\n      navigate(\"/auth\");\r\n      document.documentElement.scrollTop = 0;\r\n      return;\r\n    }\r\n    const token = localStorage.getItem(\"token\");\r\n    //https://easylearn-mhgq.onrender.com/allQuestions\r\n    const u = \"https://easylearn-mhgq.onrender.com/allAnswers\";\r\n    fetch(\"https://easylearn-mhgq.onrender.com/allAnswers\", {\r\n      method: \"GET\",\r\n      cache: \"no-store\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setqas(data.answers);\r\n        setloading(false);\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    setqa(\r\n      qas.map((qa) => {\r\n        return (\r\n          <div>\r\n            <p className={classes.ques}>\r\n              <p className={classes.author}>\r\n                {qa.author !== null ? qa.author : \"Anonymous\"}\r\n              </p>\r\n              {qa.question}\r\n            </p>\r\n            <p className={classes.ans}>\r\n              {qa.answer}\r\n              <span className={classes.dislike}>\r\n                <ion-icon name=\"thumbs-down\"></ion-icon>\r\n                {qa.downvotes}\r\n              </span>\r\n              <span className={classes.like}>\r\n                {qa.upvotes}\r\n                <ion-icon name=\"thumbs-up\"></ion-icon>\r\n              </span>\r\n            </p>\r\n          </div>\r\n        );\r\n      })\r\n    );\r\n  }, [qas]);\r\n  return (\r\n    <>\r\n      {loading && <Loading />}\r\n      {!loading && (\r\n        <div>\r\n          <h2 className={classes.qas}>My Answers</h2>\r\n          <hr></hr>\r\n\r\n          <p>\r\n            {qa}\r\n            {qa.length === 0 && <p>No answers yet.</p>}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyAnswers;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}