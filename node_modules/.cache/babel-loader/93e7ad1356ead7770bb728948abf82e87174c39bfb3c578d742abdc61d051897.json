{"ast":null,"code":"import _slicedToArray from\"D:/CPFE/EasyLearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import classes from\"./MyQuestions.module.css\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import Loading from\"../Components/UI/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MyQuestions(){//fetch answers and send as props\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),qas=_useState2[0],setqas=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),qa=_useState4[0],setqa=_useState4[1];var loggedIn=useSelector(function(state){return state.auth.loggedIn;});var navigate=useNavigate();var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setloading=_useState6[1];//fetch answers and send as props\nuseEffect(function(){if(!loggedIn){navigate(\"/auth\");document.documentElement.scrollTop=0;return;}var token=localStorage.getItem(\"token\");fetch(\"https://easylearn-mhgq.onrender.com/allQuestions\",{method:\"GET\",cache:\"no-store\",headers:{Authorization:\"Bearer \"+token}}).then(function(res){return res.json();}).then(function(data){console.log(data.qalist);setqas(data.qalist);setloading(false);});},[]);useEffect(function(){setqa(qas.map(function(qa){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:classes.ques,children:qa.question}),/*#__PURE__*/_jsx(\"p\",{className:classes.ans,children:qa.answers&&qa.answers.map(function(ans){console.log(qa.answers,\"hgggggggggggggggggggggggggggggggggggggggg\");return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:classes.author,children:[\" \",ans.answerAuthor]}),/*#__PURE__*/_jsx(\"p\",{children:ans.answer}),/*#__PURE__*/_jsx(\"hr\",{})]})});})})]});}));},[qas]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(Loading,{}),!loading&&/*#__PURE__*/_jsxs(\"div\",{children:[console.log(qa),qa.length===0&&/*#__PURE__*/_jsx(\"p\",{className:classes.qas,children:\"No questions yet\"}),!(qa.length===0)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:classes.qas,children:\"My Questions\"}),/*#__PURE__*/_jsx(\"p\",{children:qa})]})]})]});}export default MyQuestions;","map":{"version":3,"names":["React","useEffect","useState","classes","useNavigate","useSelector","useDispatch","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyQuestions","_useState","_useState2","_slicedToArray","qas","setqas","_useState3","_useState4","qa","setqa","loggedIn","state","auth","navigate","_useState5","_useState6","loading","setloading","document","documentElement","scrollTop","token","localStorage","getItem","fetch","method","cache","headers","Authorization","then","res","json","data","console","log","qalist","map","children","className","ques","question","ans","answers","author","answerAuthor","answer","length"],"sources":["D:/CPFE/EasyLearn/src/Pages/MyQuestions.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport classes from \"./MyQuestions.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loading from \"../Components/UI/Loading\";\r\n\r\nfunction MyQuestions() {\r\n  //fetch answers and send as props\r\n  const [qas, setqas] = useState([]);\r\n  const [qa, setqa] = useState([]);\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n  const navigate = useNavigate();\r\n  const [loading, setloading] = useState(true);\r\n  //fetch answers and send as props\r\n  useEffect(() => {\r\n    if (!loggedIn) {\r\n      navigate(\"/auth\");\r\n      document.documentElement.scrollTop = 0;\r\n      return;\r\n    }\r\n    const token = localStorage.getItem(\"token\");\r\n    fetch(\"https://easylearn-mhgq.onrender.com/allQuestions\", {\r\n      method: \"GET\",\r\n      cache: \"no-store\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(data.qalist);\r\n        setqas(data.qalist);\r\n        setloading(false);\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    setqa(\r\n      qas.map((qa) => {\r\n        return (\r\n          <div>\r\n            <p className={classes.ques}>{qa.question}</p>\r\n            <p className={classes.ans}>\r\n              {qa.answers &&\r\n                qa.answers.map((ans) => {\r\n                  console.log(\r\n                    qa.answers,\r\n                    \"hgggggggggggggggggggggggggggggggggggggggg\"\r\n                  );\r\n                  return (\r\n                    <p>\r\n                      <div>\r\n                        <p className={classes.author}> {ans.answerAuthor}</p>\r\n                        <p>{ans.answer}</p>\r\n                        <hr />\r\n                      </div>\r\n                    </p>\r\n                  );\r\n                })}\r\n            </p>\r\n          </div>\r\n        );\r\n      })\r\n    );\r\n  }, [qas]);\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loading />}\r\n      {!loading && (\r\n        <div>\r\n          {console.log(qa)}\r\n          {qa.length === 0 && <p className={classes.qas}>No questions yet</p>}\r\n          {!(qa.length === 0) && (\r\n            <div>\r\n              <h2 className={classes.qas}>My Questions</h2>\r\n              <p>{qa}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyQuestions;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}