{"ast":null,"code":"import _slicedToArray from\"D:/CPFE/EasyLearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from\"./QuesAns.module.css\";import{useState}from\"react\";import Answer from\"./Answer\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function QuesAns(props){var navigate=useNavigate();var loggedIn=useSelector(function(state){return state.auth.loggedIn;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),answerform=_useState2[0],showanswerform=_useState2[1];var showanswerformHandler=function showanswerformHandler(){if(!loggedIn){navigate(\"/auth\");document.documentElement.scrollTop=0;return;}showanswerform(!answerform);};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),answer=_useState4[0],setanswer=_useState4[1];var onAnswerChangeHandler=function onAnswerChangeHandler(e){setanswer(e.target.value);};var onSubmitAnswerHandler=function onSubmitAnswerHandler(){var token=localStorage.getItem(\"token\");fetch(\"https://easylearn-mhgq.onrender.com/addAnswer\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+token},body:JSON.stringify({questionId:props.questionId,answer:answer})}).then(function(res){return res.json();}).then(function(data){console.log(data);props.setquestions(data.questions);showanswerform(false);});};return/*#__PURE__*/_jsxs(\"p\",{children:[console.log(props.qa._id),/*#__PURE__*/_jsxs(\"p\",{className:classes.question,children:[console.log(\"qa\",props.qa),/*#__PURE__*/_jsx(\"p\",{className:classes.author,children:props.qa.userId!==null?props.qa.userId.username:\"Anonymous\"}),props.qa.question,/*#__PURE__*/_jsx(\"button\",{onClick:showanswerformHandler,className:classes.answerbutton,children:\"Answer\"}),answerform&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:classes.doubttext,placeholder:\"Type your answer here\",onChange:onAnswerChangeHandler}),/*#__PURE__*/_jsx(\"button\",{className:classes.submit,onClick:onSubmitAnswerHandler,children:\"Submit\"})]})]}),props.qa.answers.map(function(ans){return/*#__PURE__*/_jsx(Answer,{ans:ans,subtopicId:props.subtopicId,questionId:props.qa._id});}),/*#__PURE__*/_jsx(\"hr\",{})]});}export default QuesAns;","map":{"version":3,"names":["classes","useState","Answer","useSelector","useDispatch","useNavigate","jsx","_jsx","jsxs","_jsxs","QuesAns","props","navigate","loggedIn","state","auth","_useState","_useState2","_slicedToArray","answerform","showanswerform","showanswerformHandler","document","documentElement","scrollTop","_useState3","_useState4","answer","setanswer","onAnswerChangeHandler","e","target","value","onSubmitAnswerHandler","token","localStorage","getItem","fetch","method","headers","Authorization","body","JSON","stringify","questionId","then","res","json","data","console","log","setquestions","questions","children","qa","_id","className","question","author","userId","username","onClick","answerbutton","doubttext","placeholder","onChange","submit","answers","map","ans","subtopicId"],"sources":["D:/CPFE/EasyLearn/src/Components/QuesAns.js"],"sourcesContent":["import classes from \"./QuesAns.module.css\";\r\nimport { useState } from \"react\";\r\nimport Answer from \"./Answer\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction QuesAns(props) {\r\n  const navigate = useNavigate();\r\n  const loggedIn = useSelector((state) => state.auth.loggedIn);\r\n  const [answerform, showanswerform] = useState(false);\r\n  const showanswerformHandler = () => {\r\n    if (!loggedIn) {\r\n      navigate(\"/auth\");\r\n      document.documentElement.scrollTop = 0;\r\n      return;\r\n    }\r\n    showanswerform(!answerform);\r\n  };\r\n  const [answer, setanswer] = useState(\"\");\r\n  const onAnswerChangeHandler = (e) => {\r\n    setanswer(e.target.value);\r\n  };\r\n  const onSubmitAnswerHandler = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    fetch(\"https://easylearn-mhgq.onrender.com/addAnswer\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify({\r\n        questionId: props.questionId,\r\n        answer: answer,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        props.setquestions(data.questions);\r\n        showanswerform(false);\r\n      });\r\n  };\r\n  return (\r\n    <p>\r\n      {console.log(props.qa._id)}\r\n      <p className={classes.question}>\r\n        {console.log(\"qa\", props.qa)}\r\n        <p className={classes.author}>\r\n          {props.qa.userId !== null ? props.qa.userId.username : \"Anonymous\"}\r\n        </p>\r\n        {props.qa.question}\r\n        <button\r\n          onClick={showanswerformHandler}\r\n          className={classes.answerbutton}\r\n        >\r\n          Answer\r\n        </button>\r\n        {answerform && (\r\n          <div>\r\n            <input\r\n              className={classes.doubttext}\r\n              placeholder=\"Type your answer here\"\r\n              onChange={onAnswerChangeHandler}\r\n            ></input>\r\n            <button className={classes.submit} onClick={onSubmitAnswerHandler}>\r\n              Submit\r\n            </button>\r\n          </div>\r\n        )}\r\n        {/* <Overl className={classes.overl} message={\"Add answer\"} /> */}\r\n      </p>\r\n      {props.qa.answers.map((ans) => (\r\n        <Answer\r\n          ans={ans}\r\n          subtopicId={props.subtopicId}\r\n          questionId={props.qa._id}\r\n        />\r\n      ))}\r\n      <hr />\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default QuesAns;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}