{"ast":null,"code":"import _slicedToArray from\"D:/CPFE/EasyLearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Title from\"../Form/Title\";import TextField from\"../Form/TextField\";import Button from\"../UI/Button\";import{useState}from\"react\";import Error from\"../UI/Error\";import validatefield from\"../../validator/validator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setaddress=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmpassword=_useState8[0],setconfirmpassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),username=_useState10[0],setusername=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),passwordValid=_useState12[0],setpasswordValid=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),confirmpasswordValid=_useState14[0],setconfirmpasswordValid=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),emailValid=_useState16[0],setemailValid=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),error=_useState18[0],setError=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),usernameValid=_useState20[0],setusernameValid=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),addressValid=_useState22[0],setaddressValid=_useState22[1];var onUserNameChangeHandler=function onUserNameChangeHandler(event){setusername(event.target.value);setusernameValid(validatefield({minLength:5,maxLength:15,required:true},event.target.value));};var onEmailChangeHandler=function onEmailChangeHandler(event){setemail(event.target.value);setemailValid(validatefield({required:true,maxLength:50,email:true},event.target.value));};var onPasswordChangeHandler=function onPasswordChangeHandler(event){setpassword(event.target.value);setpasswordValid(validatefield({required:true,password:true},event.target.value));};var onConfirmPasswordChangeHandler=function onConfirmPasswordChangeHandler(event){setconfirmpassword(event.target.value);setconfirmpasswordValid(validatefield({required:true,matchWith:password},event.target.value));};var formValidate=function formValidate(){setusernameValid(validatefield({minLength:5,maxLength:15,required:true},username));setemailValid(validatefield({required:true,maxLength:50,email:true},email));setpasswordValid(validatefield({required:true,password:true},password));setconfirmpasswordValid(validatefield({required:true,matchWith:password},confirmpassword));if(emailValid!==\"valid\"||passwordValid!==\"valid\"||usernameValid!==\"valid\"||confirmpasswordValid!==\"valid\"){return false;}return true;};var onSubmitSignup=function onSubmitSignup(){props.setloading(true);if(!formValidate()){props.setloading(false);setError(\"Invalid value(s)\");return;}console.log(email,password,username,confirmpassword);fetch(\"https://easylearn-mhgq.onrender.com/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password,username:username})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.message===\"User signed up\"){props.setloading(false);props.toggle();}else{props.setloading(false);setError(data.message);}}).catch(function(err){props.setloading(false);console.log(err);setError(\"Request Failed\");});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Title,{title:\"Sign up\"}),error&&/*#__PURE__*/_jsx(Error,{title:error}),/*#__PURE__*/_jsx(TextField,{label:\"Username\",onChange:onUserNameChangeHandler,req:true,valid:usernameValid,icon:\"person-outline\"}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",onChange:onEmailChangeHandler,req:true,valid:emailValid,icon:\"mail-outline\"}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",onChange:onPasswordChangeHandler,req:true,valid:passwordValid,icon:\"lock-closed-outline\",type:\"password\"}),/*#__PURE__*/_jsx(TextField,{label:\"Confirm Password\",onChange:onConfirmPasswordChangeHandler,req:true,valid:confirmpasswordValid,icon:\"lock-closed-outline\",type:\"password\"}),/*#__PURE__*/_jsx(Button,{onClick:onSubmitSignup,title:\"Sign up\"})]});}export default Signup;","map":{"version":3,"names":["Title","TextField","Button","useState","Error","validatefield","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Signup","props","_useState","_useState2","_slicedToArray","email","setemail","_useState3","_useState4","password","setpassword","_useState5","_useState6","address","setaddress","_useState7","_useState8","confirmpassword","setconfirmpassword","_useState9","_useState10","username","setusername","_useState11","_useState12","passwordValid","setpasswordValid","_useState13","_useState14","confirmpasswordValid","setconfirmpasswordValid","_useState15","_useState16","emailValid","setemailValid","_useState17","_useState18","error","setError","_useState19","_useState20","usernameValid","setusernameValid","_useState21","_useState22","addressValid","setaddressValid","onUserNameChangeHandler","event","target","value","minLength","maxLength","required","onEmailChangeHandler","onPasswordChangeHandler","onConfirmPasswordChangeHandler","matchWith","formValidate","onSubmitSignup","setloading","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","data","message","toggle","catch","err","children","title","label","onChange","req","valid","icon","type","onClick"],"sources":["D:/CPFE/EasyLearn/src/Components/Authenticate/Signup.js"],"sourcesContent":["import Title from \"../Form/Title\";\r\nimport TextField from \"../Form/TextField\";\r\nimport Button from \"../UI/Button\";\r\nimport { useState } from \"react\";\r\nimport Error from \"../UI/Error\";\r\nimport validatefield from \"../../validator/validator\";\r\n\r\nfunction Signup(props) {\r\n  const [email, setemail] = useState(\"\");\r\n  const [password, setpassword] = useState(\"\");\r\n  const [address, setaddress] = useState(\"\");\r\n  const [confirmpassword, setconfirmpassword] = useState(\"\");\r\n  const [username, setusername] = useState(\"\");\r\n  const [passwordValid, setpasswordValid] = useState(\"\");\r\n  const [confirmpasswordValid, setconfirmpasswordValid] = useState(\"\");\r\n  const [emailValid, setemailValid] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [usernameValid, setusernameValid] = useState(\"\");\r\n  const [addressValid, setaddressValid] = useState(\"\");\r\n\r\n  const onUserNameChangeHandler = (event) => {\r\n    setusername(event.target.value);\r\n    setusernameValid(\r\n      validatefield(\r\n        { minLength: 5, maxLength: 15, required: true },\r\n        event.target.value\r\n      )\r\n    );\r\n  };\r\n  const onEmailChangeHandler = (event) => {\r\n    setemail(event.target.value);\r\n    setemailValid(\r\n      validatefield(\r\n        {\r\n          required: true,\r\n          maxLength: 50,\r\n          email: true,\r\n        },\r\n        event.target.value\r\n      )\r\n    );\r\n  };\r\n  const onPasswordChangeHandler = (event) => {\r\n    setpassword(event.target.value);\r\n    setpasswordValid(\r\n      validatefield(\r\n        {\r\n          required: true,\r\n          password: true,\r\n        },\r\n        event.target.value\r\n      )\r\n    );\r\n  };\r\n  const onConfirmPasswordChangeHandler = (event) => {\r\n    setconfirmpassword(event.target.value);\r\n    setconfirmpasswordValid(\r\n      validatefield({ required: true, matchWith: password }, event.target.value)\r\n    );\r\n  };\r\n  const formValidate = () => {\r\n    setusernameValid(\r\n      validatefield({ minLength: 5, maxLength: 15, required: true }, username)\r\n    );\r\n    setemailValid(\r\n      validatefield(\r\n        {\r\n          required: true,\r\n          maxLength: 50,\r\n          email: true,\r\n        },\r\n        email\r\n      )\r\n    );\r\n    setpasswordValid(\r\n      validatefield(\r\n        {\r\n          required: true,\r\n          password: true,\r\n        },\r\n        password\r\n      )\r\n    );\r\n    setconfirmpasswordValid(\r\n      validatefield({ required: true, matchWith: password }, confirmpassword)\r\n    );\r\n    if (\r\n      emailValid !== \"valid\" ||\r\n      passwordValid !== \"valid\" ||\r\n      usernameValid !== \"valid\" ||\r\n      confirmpasswordValid !== \"valid\"\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n  const onSubmitSignup = () => {\r\n    props.setloading(true);\r\n    if (!formValidate()) {\r\n      props.setloading(false);\r\n      setError(\"Invalid value(s)\");\r\n      return;\r\n    }\r\n    console.log(email, password, username, confirmpassword);\r\n    fetch(\"https://easylearn-mhgq.onrender.com/signup\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n        username: username,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.message === \"User signed up\") {\r\n          props.setloading(false);\r\n          props.toggle();\r\n        } else {\r\n          props.setloading(false);\r\n          setError(data.message);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        props.setloading(false);\r\n        console.log(err);\r\n        setError(\"Request Failed\");\r\n      });\r\n  };\r\n  return (\r\n    <>\r\n      <Title title=\"Sign up\" />\r\n      {error && <Error title={error} />}\r\n      <TextField\r\n        label=\"Username\"\r\n        onChange={onUserNameChangeHandler}\r\n        req={true}\r\n        valid={usernameValid}\r\n        icon=\"person-outline\"\r\n      />\r\n      <TextField\r\n        label=\"Email\"\r\n        onChange={onEmailChangeHandler}\r\n        req={true}\r\n        valid={emailValid}\r\n        icon=\"mail-outline\"\r\n      />\r\n      <TextField\r\n        label=\"Password\"\r\n        onChange={onPasswordChangeHandler}\r\n        req={true}\r\n        valid={passwordValid}\r\n        icon=\"lock-closed-outline\"\r\n        type=\"password\"\r\n      />\r\n      <TextField\r\n        label=\"Confirm Password\"\r\n        onChange={onConfirmPasswordChangeHandler}\r\n        req={true}\r\n        valid={confirmpasswordValid}\r\n        icon=\"lock-closed-outline\"\r\n        type=\"password\"\r\n      />\r\n      <Button onClick={onSubmitSignup} title=\"Sign up\" />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}